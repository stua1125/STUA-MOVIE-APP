{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\one\\\\stua-movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Movie from'./Movie.js';import\"./App.css\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isLoading:true,movies:[]};_this.getMovies=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,movies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://yts-proxy.nomadcoders1.now.sh/list_movies.json?sort_by=rating\");case 2:_yield$axios$get=_context.sent;movies=_yield$axios$get.data.data.movies;// console.log(movies.data.data.movies)\nconsole.log(movies);_this.setState({movies:movies,isLoading:false});case 6:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMovies();}},{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,movies=_this$state.movies;return/*#__PURE__*/React.createElement(\"section\",{className:\"container\"},isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"},/*#__PURE__*/React.createElement(\"span\",{className:\"loader__text\"},\"is loading...\")):/*#__PURE__*/React.createElement(\"div\",{className:\"movies\"},movies.map(function(movie){return/*#__PURE__*/React.createElement(Movie,{key:movie.id,id:movie.id,year:movie.year,title:movie.title,summary:movie.summary,poster:movie.medium_cover_image,genres:movie.genres});})));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/one/stua-movie-app/src/App.js"],"names":["React","axios","Movie","App","state","isLoading","movies","getMovies","get","data","console","log","setState","map","movie","id","year","title","summary","medium_cover_image","genres","Component"],"mappings":"y4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,YAAlB,CACA,MAAO,WAAP,C,GAEMC,CAAAA,G,2TACJC,K,CAAQ,CACNC,SAAS,CAAE,IADL,CAENC,MAAM,CAAE,EAFF,C,OAQRC,S,sEAAY,qLAMCN,CAAAA,KAAK,CAACO,GAAN,CAAU,uEAAV,CAND,uCAICF,MAJD,kBAGRG,IAHQ,CAINA,IAJM,CAICH,MAJD,CAOV;AACAI,OAAO,CAACC,GAAR,CAAYL,MAAZ,EACA,MAAKM,QAAL,CAAc,CAACN,MAAM,CAANA,MAAD,CAASD,SAAS,CAAC,KAAnB,CAAd,EATU,sD,8FAYO,CACjB,KAAKE,SAAL,GACD,C,uCACQ,iBACuB,KAAKH,KAD5B,CACCC,SADD,aACCA,SADD,CACYC,MADZ,aACYA,MADZ,CAEP,mBACA,+BAAS,SAAS,CAAC,WAAnB,EACGD,SAAS,cACV,2BAAK,SAAS,CAAC,QAAf,eACE,4BAAM,SAAS,CAAC,cAAhB,kBADF,CADU,cAKV,2BAAK,SAAS,CAAC,QAAf,EAEIC,MAAM,CAACO,GAAP,CAAW,SAAAC,KAAK,qBACd,oBAAC,KAAD,EACE,GAAG,CAAEA,KAAK,CAACC,EADb,CAEE,EAAE,CAAED,KAAK,CAACC,EAFZ,CAGE,IAAI,CAAED,KAAK,CAACE,IAHd,CAIE,KAAK,CAAEF,KAAK,CAACG,KAJf,CAKE,OAAO,CAAEH,KAAK,CAACI,OALjB,CAME,MAAM,CAAEJ,KAAK,CAACK,kBANhB,CAOE,MAAM,CAAEL,KAAK,CAACM,MAPhB,EADc,EAAhB,CAFJ,CANF,CADA,CA2BG,C,iBArDWpB,KAAK,CAACqB,S,EA0DxB,cAAelB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Movie from './Movie.js';\nimport \"./App.css\";\n\nclass App extends React.Component{\n  state = {\n    isLoading: true,\n    movies: []\n  };\n\n  // async , await 으로 비동기 시\n  // function 앞에 async를 붙이면 해당 함수는 항상 프라미스를 반환합니다.\n  // await는 async 함수 안에서만 동작합니다.\n  getMovies = async () => {\n    // es6 표기방법\n    const {\n      data: {\n        data: {movies}\n      }\n    }  = await axios.get(\"https://yts-proxy.nomadcoders1.now.sh/list_movies.json?sort_by=rating\")\n    // console.log(movies.data.data.movies)\n    console.log(movies)\n    this.setState({movies, isLoading:false});\n\n  }\n  componentDidMount(){\n    this.getMovies();\n  }\n  render() {\n    const { isLoading, movies } = this.state;\n    return (\n    <section className=\"container\">\n      {isLoading \n    ? <div className=\"loader\"> \n        <span className=\"loader__text\">is loading...</span>\n      </div>\n    : (\n      <div className=\"movies\">\n        {\n          movies.map(movie => (\n            <Movie \n              key={movie.id}\n              id={movie.id}\n              year={movie.year}\n              title={movie.title}\n              summary={movie.summary}\n              poster={movie.medium_cover_image}\n              genres={movie.genres}\n            />\n            )\n          )\n        }\n      </div>        \n      \n      )}\n      </section>\n    );\n      }\n    }\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}